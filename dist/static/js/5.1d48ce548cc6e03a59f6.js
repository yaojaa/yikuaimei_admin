webpackJsonp([5],{"7xKk":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("7agB");var a=s("mvHQ"),i=s.n(a),r={name:"Dirlst",components:{},data:function(){return{}},props:{disInfo:{type:Array,default:function(){return[]}}},computed:{disInfo_id:function(){return disInfo.order_dis_package_id}},beforeRouteUpdate:function(t,e,s){},created:function(){console.log(this.disInfo)},mounted:function(){},methods:{}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-steps",{attrs:{space:100,direction:"vertical",active:0}},this._l(this.disInfo,function(t,s){return e("el-step",{key:s,attrs:{title:t.order_dis_ctime+" "+t.order_dis_content}})}))],1)},staticRenderFns:[]};var n={data:function(){return{tabName:"package1",orderCode:this.$route.params.order_code,orderExpress:{},disList:{}}},components:{DirList:s("VU/8")(r,o,!1,function(t){s("JevA")},"data-v-9585f840",null).exports},beforeRouteUpdate:function(t,e,s){},created:function(){},computed:{},mounted:function(){this.getData(this.$route.params)},methods:{getData:function(t){var e=this;this.$axios({method:"get",url:"/api/admin/order/disList",params:t}).then(function(t){var s=JSON.parse(i()(t.data.data)),a=[];s.package_list.map(function(t){var e=0,s=0;t.goods_list.map(function(t){e+=t.goods_price,s+=t.goods_num}),t.total_price=e,t.total_num=s,a.push(t)}),s.package_list=a,e.orderExpress=s,e.disList=s.dis_list}).catch(function(t){})},formatPrice:function(t){return(t/100).toFixed(2)}}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",{staticClass:"express_title"},[t._v("物流信息")]),t._v(" "),s("div",{staticClass:"express_list"},[t._m(0),t._v(" "),t._l(t.orderExpress.package_list,function(e,a){return s("div",{key:a,staticClass:"package_item"},[s("div",{staticClass:"package_info flex_box"},[s("div",{staticClass:"package_info_col"},[s("p",[t._v(t._s("快递 自取".split(" ")[e.order_dis_package_type]))])]),t._v(" "),s("div",{staticClass:"package_info_col"},[s("p",[t._v(t._s(e.dis_name))])]),t._v(" "),s("div",{staticClass:"package_info_col"},[s("p",[t._v(t._s("等待发货 配送中 配送完成 配送取消 异常".split(" ")[e.order_dis_package_status]))])]),t._v(" "),s("div",{staticClass:"package_info_col"},[s("p",[t._v(t._s(e.dis_code))])]),t._v(" "),s("div",{staticClass:"package_info_col"},[s("p",[t._v(t._s(e.order_dis_package_ctime))])]),t._v(" "),s("span",{staticClass:"option"},[t._v("收起")])]),t._v(" "),s("div",{staticClass:"packge_list flex_box"},[s("div",{staticClass:"packge_list_item good_list"},t._l(e.goods_list,function(e,a){return s("div",{key:a,staticClass:"flex_box good_item"},[s("img",{staticClass:"good_item_col",attrs:{src:e.goods_img,alt:""}}),t._v(" "),s("p",{staticClass:"good_item_col good_name"},[t._v(t._s(e.goods_name))]),t._v(" "),s("p",{staticClass:"good_item_col good_number"},[t._v("✖"+t._s(e.goods_num))])])})),t._v(" "),s("div",{staticClass:"packge_list_item"},[s("p",{staticClass:"goods_total_price"},[t._v("总额： ¥"+t._s(t.formatPrice(e.total_price)))]),t._v(" "),s("p",{staticClass:"goods_total_num"},[t._v(t._s(e.total_num)+"瓶")]),t._v(" "),s("p",{staticClass:"order_dis_type"},[t._v(t._s("快递 自取".split(" ")[e.order_dis_package_type])+"(¥"+t._s(t.formatPrice(t.orderExpress.order_dis_price))+")")])]),t._v(" "),s("div",{staticClass:"packge_list_item"},[s("p",{staticClass:"send_num"},[t._v(t._s(e.dis_send_name))]),t._v(" "),s("p",{staticClass:"send_phone"},[t._v(t._s(e.dis_send_phone))])]),t._v(" "),s("div",{staticClass:"packge_list_item"},[s("p",{staticClass:"package_num"},[t._v("包裹"+t._s(a+1))])])])])})],2),t._v(" "),s("div",{staticClass:"dis_list"},[s("el-tabs",{model:{value:t.tabName,callback:function(e){t.tabName=e},expression:"tabName"}},t._l(t.orderExpress.package_list,function(e,a){return s("el-tab-pane",{key:a,attrs:{label:"物流包裹"+(a+1),name:"package"+(a+1)}},[s("DirList",{attrs:{packageId:e.order_dis_package_id,disInfo:t.disList?t.disList[e.order_dis_package_id]:[]}})],1)}))],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex_box"},[s("div",{staticClass:"express_list_title"},[t._v("配送方式")]),t._v(" "),s("div",{staticClass:"express_list_title"},[t._v("物流公司名称")]),t._v(" "),s("div",{staticClass:"express_list_title"},[t._v("物流状态")]),t._v(" "),s("div",{staticClass:"express_list_title"},[t._v("运单号")]),t._v(" "),s("div",{staticClass:"express_list_title"},[t._v("发货时间")])])}]};var d=s("VU/8")(n,_,!1,function(t){s("icFL")},"data-v-86f15eb8",null).exports,c=s("CM8H"),l={name:"OrderRefundInfo",components:{},data:function(){return{refundList:[]}},props:{refundInfo:{type:Object(),default:function(){}}},computed:{},beforeRouteUpdate:function(t,e,s){},created:function(){},mounted:function(){this.getData(this.$route.params)},methods:{getData:function(t){var e=this;this.$axios({method:"get",url:"/api/admin/order/refundList",params:t}).then(function(t){console.log(t.data),e.refundList=t.data.data}).catch(function(t){})}}},u={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"refund_info"},[this._v("\n    我是退货退款\n")])},staticRenderFns:[]};var p=s("VU/8")(l,u,!1,function(t){s("xi0/")},"data-v-df72192a",null).exports,v={name:"orderDetail",components:{ExpressInfo:d,OrderDetail:c.a,RefundInfo:p},data:function(){return{tabName:"OrderInfo",orderCode:this.$route.params.order_code,order:{},refundList:[],order_status:{1:"待处理",2:"待发货",3:"已发货",4:"已完成",5:"已评价",8:"已取消"}}},beforeRouteUpdate:function(t,e,s){},created:function(){},computed:{},mounted:function(){this.getData(this.$route.params),this.getRefundList(this.$route.params)},methods:{getData:function(t){var e=this;this.$axios({method:"get",url:"/api/admin/order/info",params:t}).then(function(t){e.order=t.data.data}).catch(function(t){})},getRefundList:function(t){var e=this;this.$axios({method:"get",url:"/api/admin/order/refundList ",params:t}).then(function(t){e.refundList=t.data.data}).catch(function(t){})},formatPrice:function(t){return(t/100).toFixed(2)}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page"},[s("div",{staticClass:"page-header"},[s("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",[t._v("订单管理")]),t._v(" "),s("el-breadcrumb-item",{attrs:{to:{path:t.$route.path}}},[t._v(t._s(t.$route.meta.title))])],1)],1),t._v(" "),s("div",{staticClass:"page-content"},[s("el-tabs",{model:{value:t.tabName,callback:function(e){t.tabName=e},expression:"tabName"}},[s("el-tab-pane",{attrs:{label:"基本信息",name:"OrderInfo"}},[s("OrderDetail",{attrs:{order:t.order}})],1),t._v(" "),s("el-tab-pane",{attrs:{label:"物流信息",name:"ExpressInfo"}},[s("ExpressInfo",{attrs:{"order-code":t.orderCode}})],1),t._v(" "),s("el-tab-pane",{attrs:{label:"收益提成",name:"ProfitRate"}},[t._v("\n\t\t\t\t我是收益提成\n\t\t\t")]),t._v(" "),s("el-tab-pane",{attrs:{label:"退款/退货",name:"OrderRefund"}},[s("div",{staticClass:"refund-list"},t._l(t.refundList,function(e,a){return s("el-tab-pane",{key:a,attrs:{label:a+1,name:t.reufund}},[s("RefundInfo",{attrs:{refundInfo:t.refundInfo}})],1)})),t._v(" "),s("RefundInfo",{attrs:{refundInfo:t.refundInfo}})],1)],1)],1)])},staticRenderFns:[]};var m=s("VU/8")(v,f,!1,function(t){s("Bhql")},"data-v-7c5ba267",null);e.default=m.exports},Bhql:function(t,e){},CM8H:function(t,e,s){"use strict";s("7agB");var a={name:"OrderDetail",components:{},data:function(){return{orderCode:this.$route.params.order_code,order_status:{1:"待处理",2:"待发货",3:"已发货",4:"已完成",5:"已评价",8:"已取消"}}},props:{order:{type:Object,default:function(){}}},computed:{},beforeRouteUpdate:function(t,e,s){},created:function(){console.log(this.order)},mounted:function(){},methods:{formatPrice:function(t){return(t/100).toFixed(2)}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"panel"},[s("div",{staticClass:"panel-heading"},[s("h3",{staticClass:"panel-title",staticStyle:{"line-height":"28px",background:"#FBFBFF 100%"}},[t._v("\n                订单状态："+t._s(t.order_status[t.order.order_status_all])+"\n                "),2==+t.order.order_status_all?s("el-button",{staticStyle:{float:"right"},attrs:{icon:"el-icon-plus",size:"mini",type:"primary"},on:{click:function(e){t.$router.push({path:"/categorylist"})}}},[t._v("\n                    去发货\n                ")]):t._e()],1)])]),t._v(" "),s("div",{staticClass:"panel"},[t._m(0),t._v(" "),s("div",{staticClass:"panel-body"},[s("div",{staticClass:"info_p"},[t._v("\n                用户昵称："+t._s(t.order.order_user_name)),s("br"),t._v(" 支付方式："+t._s("微信支付 银联支付 现金支付 ".split(" ")[t.order.pay_type])),s("br"),t._v(" 收货地址："+t._s(t.order.order_user_address)+"\n            ")])])]),t._v(" "),s("div",{staticClass:"panel"},[t._m(1),t._v(" "),s("div",{staticClass:"panel-body"},[s("div",{staticClass:"order_item"},[s("div",{staticClass:"order_tit"},[s("span",[t._v("下单时间："+t._s(t.order.order_pay_time))]),t._v(" "),s("span",[t._v("订单编号:"+t._s(t.order.order_code))])]),t._v(" "),s("div",{staticClass:"good_list"},[t._m(2),t._v(" "),t._l(t.order.goods_list,function(e,a){return s("div",{key:a,staticClass:"flex_box good_item"},[s("div",{staticClass:"good_item_col"},[s("img",{attrs:{src:e.goods_img}}),t._v(" "),s("p",[t._v(t._s(e.goods_name))])]),t._v(" "),s("div",{staticClass:"good_item_col"},[s("p",[t._v("¥"+t._s(e.goods_price/100))]),t._v(" "),s("p",{staticStyle:{color:"#999","margin-top":"5px"}},[t._v(t._s(e.goods_num)+"瓶")])]),t._v(" "),s("div",{staticClass:"good_item_col"},[s("p",[t._v("¥"+t._s(t.formatPrice(e.goods_price*e.goods_num)))])])])})],2),t._v(" "),s("p",[t._v(t._s(t.order.order_gifts))]),t._v(" "),s("div",{staticClass:"total"},[s("p",[s("label",{attrs:{for:""}},[t._v("商品金额:")]),t._v(" "),s("span",[t._v("¥"+t._s(t.formatPrice(t.order.order_total_price)))])]),t._v(" "),s("p",[s("label",{attrs:{for:""}},[t._v("优惠金额:")]),t._v(" "),s("span",[t._v("-¥"+t._s(t.formatPrice(t.order.order_reduce_price)))])]),t._v(" "),s("p",[s("label",{attrs:{for:""}},[t._v("配送费:")]),t._v(" "),s("span",[t._v("¥"+t._s(t.formatPrice(t.order.order_dis_price)))])]),t._v(" "),s("p",[s("label",{attrs:{for:""}},[t._v("实收款:")]),t._v(" "),s("span",[t._v("¥"+t._s(t.formatPrice(t.order.order_online_price)))])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("h3",{staticClass:"panel-title"},[this._v("买家信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("h3",{staticClass:"panel-title"},[this._v("订单信息")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex_box"},[e("div",{staticClass:"good_item_title"},[this._v("商品")]),this._v(" "),e("div",{staticClass:"good_item_title"},[this._v("单价（元）/数量")]),this._v(" "),e("div",{staticClass:"good_item_title"},[this._v("商品总价（元）")])])}]};var r=s("VU/8")(a,i,!1,function(t){s("V8Xu")},"data-v-6fcae5f8",null);e.a=r.exports},JevA:function(t,e){},V8Xu:function(t,e){},icFL:function(t,e){},"xi0/":function(t,e){}});