webpackJsonp([37],{CtWP:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("gRE1"),i=a.n(s),n=a("fZjL"),l=a.n(n),r=a("0qDT"),o=a("tVcc"),c=a("PMOO"),u={status:{1:"已上架",2:"未上架"}},p={name:"tabletest",data:function(){return{status_filter:"",category:[],tagsListGroup:{"选择状态:":[{title:"全部",key:"0"},{title:"已上架",key:"1"},{title:"未上架",key:"2"}]},url:"/api/admin/shopgoods/index",breadcrumb:[{name:"商品管理"},{name:"平台商品",url:"/goodList"}],searchs:{list:[{type:"input-text",label:"商品名称",name:"good_name",value:"",placeholder:"请输入名称"}]}}},components:{NomalTable:r.a,BreadCrumb:o.a,TableSearch:c.a},created:function(){},beforeRouteUpdate:function(t,e,a){console.log(t.query),this.status_filter=l()(t.query)[0]+i()(t.query)[0],console.log(this.status_filter),this.$refs.table.getData(t.query),a()},computed:{tableJson:function(){return{column:[{type:"text",label:"商品",width:"200px",formatter:function(t){var e="<div style='display:flex; background-color#fff;'>";return e+="<div style='width:80px;height:80px;padding:8px; flex-shrink:0;'><img style='width:100%; height:100%;' src='"+t.good_ico+"'></div>",e+="<span class='list-good-name'>"+t.good_name+"</span>",e+="</div>"}},{type:"text",label:"标签",prop:"label_name",align:"center"},{type:"text",label:"分类",prop:"category_name",width:"",align:"center"},{type:"text",label:"状态",prop:"status",width:"",align:"center",formatter:function(t){return"<p style='text-align: center'>\n                    "+u.status[t.status]+"\n                    </p>"}},{type:"text",label:"总销量",align:"center",width:"",prop:"switch"},{type:"handle",label:"操作",align:"center",width:"",list:[{label:"下架",type:"edit",url:"",onClick:function(t,e){console.log(e.vue),console.log(t.isShow),e.nomal=!e.nomal,t.isShow=!t.isShow}},{label:"编辑",type:"edit",url:"",onClick:function(t,e,a){e.$router.push("/createGood"+a.shop_id)}}]}]}}},mounted:function(){this.getcategoryList()},methods:{getcategoryList:function(){var t=this;this.$axios.get("/api/admin/select/categoryList").then(function(e){var a=e.data.data.map(function(t){return{title:t.category_name,key:"category_id",value:t.category_id}});t.tagsListGroup["行业分类"]=a,t.$forceUpdate()})}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"crumbs"},[a("bread-crumb",{attrs:{"bread-crumb":t.breadcrumb}})],1)]),t._v(" "),a("div",{staticClass:"page-content"},[a("nomal-table",{attrs:{"table-json":t.tableJson,url:t.url,query:{good_type:2}}},[a("div",{staticClass:"sub-heading"},[a("h3",{staticClass:"sub-title"},[a("span",{staticClass:"sub-icon"},[a("img",{attrs:{src:"/static/img/sub_icon.png",width:"100%"}})]),a("span",{staticClass:"title"},[t._v("常用功能")])]),t._v(" "),a("div",{staticClass:"sub-actions"},[a("el-button",{attrs:{icon:"el-icon-plus",size:"mini",type:"primary"},on:{click:function(e){t.$router.push({path:"/categorylist"})}}},[t._v("管理分类")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-plus",size:"mini",type:"primary"},on:{click:function(e){t.$router.push({path:"/labellist"})}}},[t._v("管理标签")]),t._v(" "),a("el-button",{attrs:{icon:"el-icon-plus",size:"mini",type:"primary"},on:{click:function(e){t.$router.push({path:"/createGood"})}}},[t._v("添加商品")])],1)]),t._v(" "),t._l(t.tagsListGroup,function(e,s,i){return a("div",{key:i,staticClass:"status_filter"},[a("ul",[a("li",{staticClass:"tags-li"},[t._v("\n            "+t._s(s)+"\n            "),t._l(e,function(e){return a("router-link",{key:e.value,class:e.key+e.value==t.status_filter?"active":"",attrs:{to:{path:"/goodList",query:(s={},s[e.key]=e.value,s)}}},[t._v("\n              "+t._s(e.title))]);var s})],2)])])}),t._v(" "),a("table-search",{attrs:{searchs:t.searchs}})],2)],1)])},staticRenderFns:[]};var g=a("VU/8")(p,d,!1,function(t){a("uOaj")},"data-v-7fbad84c",null);e.default=g.exports},uOaj:function(t,e){}});